---
layout: post
title: "shell snippet: back"
description: ""
category: 程序设计
subtitle:
author: "fishcried"
header-img: "img/bg/home-bg.jpg"
tags: [shell]
---

# 备份24小时修改的文件

	#!/bin/bash
	
	# Backs up all files in current direcotry modified within 
	# last 24 hours in a "tarball"(tarred and bzip2 file)
	
	# Embeds date in backup filename
	BACKUPFILE=backup-$(date +%Y-%m-%d)
	
	# if no backup archive file specified on command line
	# it will default to "backup-YYYY-MM-DD.tar.bz2"
	archive=${1:-$BACKUPFILE}
	
	find . -mtime -1 -type f -print0 2>/dev/null|
	        xargs -0 tar -cjvf "$archive.tar.bz2"
	
	exit 0

纯属玩具

# 变更记录

|Why | Who | When |
|----|-----|------|
|v0.01|fishcired|2012-08-14|
